From 08791422fb74b1161da5ad6bf075859de45936b9 Mon Sep 17 00:00:00 2001
From: Faith Ekstrand <faith.ekstrand@collabora.com>
Date: Tue, 1 Aug 2023 18:49:15 -0500
Subject: [PATCH] nvk: Advertise Vulkan 1.1

---
 docs/features.txt                        | 2 +-
 src/nouveau/vulkan/nvk_instance.c        | 2 +-
 src/nouveau/vulkan/nvk_physical_device.c | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/docs/features.txt b/docs/features.txt
index 9bc0718d591..d949671ca1c 100644
--- a/docs/features.txt
+++ b/docs/features.txt
@@ -420,7 +420,7 @@ we DO NOT WANT implementations of these extensions for Mesa.
 
 Vulkan 1.0 -- all DONE: anv, dzn, lvp, nvk, radv, tu, v3dv, vn
 
-Vulkan 1.1 -- all DONE: anv, lvp, radv, tu, vn
+Vulkan 1.1 -- all DONE: anv, lvp, nvk, radv, tu, vn
 
   VK_KHR_16bit_storage                                  DONE (anv/gen8+, dzn, hasvk, lvp, radv, tu/a650, v3dv, vn)
   VK_KHR_bind_memory2                                   DONE (anv, dzn, hasvk, lvp, nvk, pvr, radv, tu, v3dv, vn)
diff --git a/src/nouveau/vulkan/nvk_instance.c b/src/nouveau/vulkan/nvk_instance.c
index c0b28add1f2..21d99bc2ae3 100644
--- a/src/nouveau/vulkan/nvk_instance.c
+++ b/src/nouveau/vulkan/nvk_instance.c
@@ -17,7 +17,7 @@ nvk_EnumerateInstanceVersion(uint32_t *pApiVersion)
 {
    uint32_t version_override = vk_get_version_override();
    *pApiVersion = version_override ? version_override :
-                  VK_MAKE_VERSION(1, 0, VK_HEADER_VERSION);
+                  VK_MAKE_VERSION(1, 1, VK_HEADER_VERSION);
 
    return VK_SUCCESS;
 }
diff --git a/src/nouveau/vulkan/nvk_physical_device.c b/src/nouveau/vulkan/nvk_physical_device.c
index ace03c133f9..31932cb2757 100644
--- a/src/nouveau/vulkan/nvk_physical_device.c
+++ b/src/nouveau/vulkan/nvk_physical_device.c
@@ -429,7 +429,7 @@ nvk_get_device_properties(const struct nvk_instance *instance,
 
    *properties = (struct vk_properties) {
       .apiVersion = version_override ? version_override :
-                    VK_MAKE_VERSION(1, 0, VK_HEADER_VERSION),
+                    VK_MAKE_VERSION(1, 1, VK_HEADER_VERSION),
       .driverVersion = vk_get_driver_version(),
       .vendorID = NVIDIA_VENDOR_ID,
       .deviceID = info->device_id,
-- 
2.42.1

